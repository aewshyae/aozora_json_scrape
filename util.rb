# 濁点、半濁点、拗音、カタカナを、ひらがな清音に正規化。
#  例:が→か ぽ→ほ ヅ→つ ゃ→や
CANONICALIZE_FROM = 'がぎぐげござじずぜぞだぢづでどばびぶべぼぱぴぷぺぽゔぁぃぅぇぉゃゅょアイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヲンガギグゲゴザジズゼゾダヂヅデドバビブベボパピプペポヴァィゥェォャュョ'
CANONICALIZE_TO   = 'かきくけこさしすせそたちつてとはひふへほはひふへほうあいうえおやゆよあいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわをんかきくけこさしすせそたちつてとはひふへほはひふへほうあいうえおやゆよ'
def canonicalize_initial str
  return nil if str.nil? || str.empty?
  str[0].tr(CANONICALIZE_FROM, CANONICALIZE_TO)
end